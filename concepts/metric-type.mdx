---
title: "Metric Type"
description: "Ways to evaluate and score product performance"
icon: "function"
iconType: "solid"
---

import EvaluationCard from '/snippets/cards/evaluation-card.mdx';
import EvaluationTaskCard from '/snippets/cards/evaluation-task-card.mdx';
import SDKMetricsServiceCard from '/snippets/cards/sdk-metrics-service-card.mdx';

## What are Metric Types?

Metric types in Galtea define the specific criteria and methods used to evaluate the performance of your [product](/concepts/product). They determine how outputs are scored during [evaluation tasks](/concepts/product/version/session/evaluation/task), ensuring consistent and meaningful assessment.

<Info>
  Metric types are organization-wide and can be reused across multiple products.
</Info>

You can **create**, view and manage your metric types on the [Galtea dashboard](https://platform.galtea.ai/) or programmatically using the [Galtea SDK](/sdk/api/metrics/service).

## Conceptual categories

At Galtea, we use two types of metrics to evaluate large language model (LLM) outputs: **deterministic** and **non-deterministic**.


- **Deterministic metrics** are rule-based and computed using strict logic, such as SQL queries or structural checks. These include things like answer format validation, presence of required fields, or exact string matches. Their results are consistent and reproducible. Common examples of deterministic checks include:
  *   Answer format validation (e.g., ensuring the output is a valid JSON or follows a specific template)
  *   Presence of required fields (e.g., checking if all necessary information is included in the response)
  *   Exact string matches (e.g., verifying if a specific keyword or phrase is present)
  *   Numerical range checks (e.g., confirming a value falls within an acceptable range)
  *   Boolean condition checks (e.g., ensuring a specific condition evaluates to true or false as expected)

  Currently the deterministric metrics accessible directly from the platform are [BLEU](/concepts/metric-type/bleu), [ROUGE](/concepts/metric-type/rogue), [METEOR](/concepts/metric-type/meteor), [Text Similarity](/concepts/metric-type/text-similarity), [Text Match](/concepts/metric-type/text-match), [IOU](/concepts/metric-type/iou) and [Spatial Match](/concepts/metric-type/spatial-match).

  Additionaly you can define your own custom determinstic metrics. In order to do that, you can implement a class that inherits from the `CustomScoreEvaluationMetric` base class and pass an instance of it to the evaluation task creation method. See more in [our example](/sdk/tutorials/create-evaluation-with-custom-scores).

  <Info>
    The platform cannot automatically evaluate *deterministic metrics*, as it lacks the necessary information. However, by using the `CustomScoreEvaluationMetric` class in the SDK, you can execute your custom logic locally and have the scores seamlessly uploaded to the platform for visualization.
  </Info>

- **Non-deterministic metrics** are powered by the **G-Eval** evaluation framework, an LLM-as-a-judge methodology, originally introduced in the paper [“NLG Evaluation using GPT-4 with Better Human Alignment”](https://arxiv.org/abs/2303.16634). G-Eval follows a structured two-step process (chain-of-thought generation and score computation) to rate outputs. These metrics assess aspects like factuality, coherence, helpfulness, or tone.

<Info title="Applicability to Different Output Types">
  Galtea metrics are versatile and can be applied to **any type of output**, including strings, numbers, and boolean values.

  *   **For deterministic metrics:** Evaluating numerical or boolean outputs is straightforward. For example, you can check if a returned numerical value is within a valid range or if a boolean output matches a specific condition.
  *   **For non-deterministic metrics:** While typically used for open-ended text, they can also assess the reasoning or justification behind a numerical or boolean value when needed. For instance, verifying whether a model's numeric prediction aligns with the provided context or input data.
</Info>

## List of metrics available in the Galtea Platform

<Note>
  The following table provides a summary of the default metrics available in the Galtea platform. You can also create custom metrics tailored to your specific needs.
</Note>

| Metric | Category | Description |
| --- | --- | --- |
| **[Factual Accuracy](/concepts/metric-type/factual-accuracy)** | RAG | Measures the quality of your RAG pipeline's generator by evaluating whether the actual_output factually aligns with the expected_output. |
| **[Resilience To Noise](/concepts/metric-type/resilience-to-noise)** | RAG | Evaluates whether the generated output is resilient to noisy input, such as typos, OCR/ASR errors, and distracting content. |
| **[Answer Relevancy](/concepts/metric-type/answer-relevancy)** | RAG | Measures the quality of your RAG pipeline's generator by evaluating how relevant the actual_output of your LLM application is compared to the provided input. |
| **[Faithfulness](/concepts/metric-type/faithfulness)** | RAG | Measures the quality of your RAG pipeline's generator by evaluating whether the actual_output factually aligns with the contents of your retrieval_context. |
| **[Contextual Precision](/concepts/metric-type/contextual-precision)** | RAG | Measures your RAG pipeline's retriever by evaluating whether nodes in your retrieval_context that are relevant to the given input are ranked higher than irrelevant ones. |
| **[Contextual Recall](/concepts/metric-type/contextual-recall)** | RAG | Measures the quality of your RAG pipeline's retriever by evaluating the extent of which the retrieval_context aligns with the expected_output. |
| **[Contextual Relevancy](/concepts/metric-type/contextual-relevancy)** | RAG | Measures the quality of your RAG pipeline's retriever by evaluating the overall relevance of the information presented in your retrieval_context for a given input. |
| **[BLEU](/concepts/metric-type/bleu)** | Deterministic | Measures how many n-grams in the actual output overlap with those in a set of expected output. |
| **[ROUGE](/concepts/metric-type/rouge)** | Deterministic | Evaluates automatic summarization by measuring the longest common subsequence that preserves the word order between actual output and expected output summaries. |
| **[METEOR](/concepts/metric-type/meteor)** | Deterministic | Evaluates translation, summarization, and paraphrasing by aligning words using exact matches, stems, or synonyms. |
| **[Text Similarity](/concepts/metric-type/text-similarity)** | Deterministic |Quantifies the overall textual resemblance between a generated summary and a reference summary by using character-level fuzzy matching. |
| **[Text Match](/concepts/metric-type/text-match)** | Deterministic |Determines whether generated text matches a reference with high character-level similarity using fuzzy matching, returning a binary outcome based on a threshold.|
| **[IOU](/concepts/metric-type/iou)** | Deterministic | Measures the spatial overlap between a predicted bounding box and one or more reference boxes to quantify alignment in object detection and layout tasks.  |
| **[Spatial Match](/concepts/metric-type/spatial-match)** | Deterministic |Performs a binary evaluation of the spatial alignment between a predicted bounding box and reference boxes using the best Intersection over Union (IoU) score to return a pass/fail signal.|
| **[Role Adherence](/concepts/metric-type/role-adherence)** | Conversational | Determines whether your LLM chatbot is able to adhere to its given role throughout a conversation. |
| **[Conversation Completeness](/concepts/metric-type/conversation-completeness)** | Conversational | Determines whether your LLM chatbot is able to complete an end-to-end conversation by satisfying user needs throughout a conversation. |
| **[Conversation Relevancy](/concepts/metric-type/conversation-relevancy)** | Conversational | Determines whether your LLM chatbot is able to consistently generate relevant responses throughout a conversation. |
| **[Knowledge Retention](/concepts/metric-type/knowledge-retention)** | Conversational | Assesses the ability of your LLM chatbot to retain factual information presented throughout a conversation. |
| **[Non-Toxic](/concepts/metric-type/non-toxic)** | Red Teaming | Determines whether the responses of your LLM based product responds are free of toxic language. |
| **[Unbiased](/concepts/metric-type/unbiased)** | Red Teaming | Determine whether your LLM output is free of gender, racial, or political bias. |
| **[Misuse Resilience](/concepts/metric-type/misuse-resilience)** | Red Teaming | Evaluates whether the generated output is resilient to misuse and remains aligned with the product description. |
| **[Data Leakage](/concepts/metric-type/data-leakage)** | Red Teaming | Evaluates whether the LLM returns content that may include sensitive information. |
| **[Jailbreak Resilience](/concepts/metric-type/jailbreak-resilience)** | Red Teaming | A previous version of the [Jailbreak Resilience v2](/concepts/metric-type/jailbreak-resilience-v2) Metric Type. |
| **[Jailbreak Resilience v2](/concepts/metric-type/jailbreak-resilience-v2)** | Red Teaming | Evaluates the ability of an LLM-based product to resist attempts at breaking or manipulating its intended behavior. |


## Metric Type Properties

<ResponseField name="Name" type="Text" required>
  The name of the metric type. **Example**: "Factual Accuracy"
</ResponseField>

<ResponseField name="Description" type="Text" optional>
  A brief description of what the metric type evaluates.
</ResponseField>

<ResponseField name="Documentation URL" type="URL" optional>
  A URL pointing to more detailed documentation about the metric type.
</ResponseField>

<ResponseField name="Evaluator Model" type="Text" optional>
  The name of the model used to evaluate the metric. This model will be used to assess the quality of the outputs based on the metric's criteria. **Example**: "GPT-4.1".
  <Note>
    It does not apply to deterministic metrics since it does not require a model for evaluation.
  </Note>
</ResponseField>

<ResponseField name="Tags" type="Text List" optional>
  The tags for the metric type so it can be easily identified and categorized. **Example**: ["RAG", "Conversational"]
</ResponseField>

<ResponseField name="Validation method" type="Enum" required>
  The method used to evaluate the metric. This can be either:

  <Tabs>
    <Tab title="LLM as a Judge">
      A custom prompt that defines the evaluation logic for an LLM-as-a-judge metric. You can use placeholders like `{input}`, `{actual_output}`, `{expected_output}`, etc., which will be populated at evaluation time. 
    </Tab>
    <Tab title="None">
      No validation method is applied. This means the metric type is *not* automatically evaluated by Galtea and is intended for *deterministic metrics*.
    </Tab>
  </Tabs>
  
</ResponseField>

<ResponseField name="Evaluation Parameters" type="List[Enum]" required>
  <Info>
    This must not be provided if the validation method is set to "Custom".
  </Info>
  A list of relevant parameters for this metric's evaluation criteria or steps. These parameters should be explicitly mentioned in your evaluation criteria or steps to ensure they're taken into account during assessment.
  <table>
    <thead className='text-left'>
      <tr>
        <th>Parameter</th>
        <th>Description</th>
        <th>Availability</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>**input**</td>
        <td>The prompt or query sent to the model. (Always required in the list).</td>
        <td>All metrics</td>
      </tr>
      <tr>
        <td>**actual_output**</td>
        <td>The actual output generated by the model.</td>
        <td>All metrics</td>
      </tr>
      <tr>
        <td>**expected_output**</td>
        <td>The ideal answer for the given input.</td>
        <td>All metrics</td>
      </tr>
      <tr>
        <td>**context**</td>
        <td>Additional background information provided to the model alongside the input.</td>
        <td>All metrics</td>
      </tr>
      <tr>
        <td>**retrieval_context**</td>
        <td>The context retrieved by your RAG system before sending the user query to your LLM.</td>
        <td>All metrics</td>
      </tr>
      <tr>
        <td>**product_description**</td>
        <td>The description of the product.</td>
        <td>Yes</td>
      </tr>
      <tr>
        <td>**product_capabilities**</td>
        <td>The capabilities of the product.</td>
        <td>Yes</td>
      </tr>
      <tr>
        <td>**product_inabilities**</td>
        <td>The product's known inabilities or restrictions.</td>
        <td>Yes</td>
      </tr>
      <tr>
        <td>**product_security_boundaries**</td>
        <td>The security boundaries of the product.</td>
        <td>Yes</td>
      </tr>
    </tbody>
  </table>

  <Note>
    `input` (lowercase) must always be included in this list.
  </Note>

  <Info>
    You can directly reference these parameters in your criteria or evaluation steps. For example: "Evaluate if the *Actual Output* contains factually correct information that aligns with verified sources in the *Retrieval Context*."
  </Info>

  <Warning>
    To ensure accurate evaluation results, include only parameters that you've explicitly referenced in your criteria or evaluation steps.
  </Warning>
</ResponseField>

## Creating Custom Metrics via Judge Prompt

<Note title="Our Evaluation Model">
  The non-deterministic metrics, powered by Large Language Models that act as Judges, utilize models that have demonstrated the best performance in our internal benchmarks and testing. We are committed to continuously evolving and improving these evaluator models to ensure the highest quality assessments over time.
</Note>

Custom Judge metrics use the G-Eval framework to evaluate LLM outputs based on your specific requirements. The primary way to create these metrics is by providing a `judge_prompt` that defines the evaluation logic.

### How Judge Prompts Work

Judge prompts are templates that tell the evaluator model how to assess your outputs. You can include placeholders for various parameters that will be automatically filled in during evaluation:

- `{input}` - The original user input or prompt
- `{actual_output}` - The response generated by your model
- `{expected_output}` - The ideal or reference response
- `{context}` - Additional background information
- `{retrieval_context}` - RAG-retrieved context
- `{product_description}` - Your product's description
- `{product_capabilities}` - What your product can do
- `{product_inabilities}` - What your product cannot or should not do
- `{product_security_boundaries}` - Security restrictions
- `{user_persona}` - Information about the user interacting with the agent
- `{goal}` - The user's goal
- `{scenario}` - The scenario in which the user is operating
- `{stopping_criterias}` - List of criteria that define when the conversation should end
- `{conversation_turns}` - All turns in the conversation

### Evaluation Process

**Two-step G-Eval process:**
1. **Chain-of-Thought Generation**: The evaluator model analyzes the inputs according to your judge prompt
2. **Score Computation**: The model assigns a score on a **1–5** scale, which is then normalized to **0–1** via token-probability weighting

### Example Judge Prompt

```python
judge_prompt = """
You are an expert evaluator. Evaluate the factual accuracy of the given response by comparing it to the reference answer and considering how well it addresses the user's input.

**User Input:** {input}
**Reference Answer:** {expected_output}
**Response to Evaluate:** {actual_output}

Scoring Guidelines:
- Score 0: The response contains factual errors, omits essential information needed for the input, or includes unsupported content.
- Score 0.5: The response is partially accurate. It is generally relevant but includes minor inaccuracies, missing key details, or some unsupported claims.
- Score 1: The response fully aligns with the reference answer with no errors, omissions, or unsupported additions.
"""
```

<Info>
When designing judge prompts, be specific about your scoring criteria and reference the evaluation parameters explicitly. This ensures consistent and reliable evaluations.
</Info>


## SDK Integration

The Galtea SDK allows you to create, view, and manage metric types programmatically.

<SDKMetricsServiceCard />

## Related Concepts

<CardGroup cols={2}>
  <EvaluationCard />
  <EvaluationTaskCard />
</CardGroup>
